#!/bin/sh

CPU_MAX=$(cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq)
CPU_MIN=$(cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq)
CPU_CUR=$(cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq)
if [ -n "$1" ] ; then
    p="$1";
else
    p="5";
fi
cmd="scale=$p;100 * ($CPU_CUR - $CPU_MIN) / ($CPU_MAX - $CPU_MIN)"
echo "$cmd" | bc
